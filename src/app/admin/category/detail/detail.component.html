<section>
	<div class="container-fluid">
		<form [formGroup]="form" (submit)="save()" novalidate class="forms form-horizontal">
			<div class="card">
				<div class="card-close">
					<span class="action"> <i class="far fa-save"></i> </span>
					<span class="action"> <i class="fas fa-times"></i> </span>
				</div>
				<div class="card-header"> New category</div>
				<div class="card-body">
					<ngb-tabset justify="justified" type="pills" formArrayName="translations">
						<ngb-tab *ngFor="let translation of getTranslations().controls; let idx = index;"
						         [formGroupName]="idx">
							<ng-template ngbTabTitle>
								{{ translation.get("lang_id").value | atIndexOf:languages:"id":"name" }}
							</ng-template>
							
							<ng-template ngbTabContent>
								<div class="pt-4 px-3">
									<div class="form-group row">
										<label [for]="idx + '-name'" class="col-sm-3 form-control-label">Name</label>
										<div class="col-sm-9">
											<input type="text" [id]="idx + '-name'" formControlName="name"
											       class="form-control"
											       (change)="setSlug(idx)">
										</div>
									</div>
									<div class="line"></div>
									
									<div class="form-group row">
										<label [for]="idx + '-slug'" class="col-sm-3 form-control-label">Slug</label>
										<div class="col-sm-9">
											<input type="text" [id]="idx + '-slug'" formControlName="slug"
											       class="form-control">
										</div>
									</div>
								</div>
							</ng-template>
						</ngb-tab>
					</ngb-tabset>
				</div>
			</div>
		</form>
	</div>
</section>